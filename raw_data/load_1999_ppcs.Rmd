---
title: "load_1999_ppcs"
author: "Brenda Fried"
date: "7/16/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
#Load Libraries
```{r load-libraries}
library(tidyverse)
library(asciiSetupReader)
library(foreign)
```

#Load Data
```{r load-data}
ppcs_1999 <- read_ascii_setup('03151-0001-Data.txt','03151-0001-Setup.sps')

colnames(ppcs_1999)
view(head(ppcs_1999))
```
#Civilian Race

white if white only and not hispanic
black if black only or black hispanic
hispanic if hispanic and not black
```{r civilian-race}
ppcs_1999 <- ppcs_1999 %>%
  mutate(civilian_race = case_when(
    (RESPONDENT_S_RACE == "White" & RESPONDENT_S_HISPANIC_ORIGIN == "No") ~ "white",
    (RESPONDENT_S_RACE == "Black" ) ~ "black",
    (RESPONDENT_S_HISPANIC_ORIGIN == "Hispanic" & RESPONDENT_S_RACE != "Black") ~ "hispanic",
    TRUE ~ "other"
  )) %>% 
  mutate(civilian_race = as.factor(civilian_race))
